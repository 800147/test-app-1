(this["webpackJsonptest-app-1"]=this["webpackJsonptest-app-1"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/arrow_move.1663e72a.svg"},function(e,t,n){e.exports=n.p+"static/media/arrow_expand_alt2.3e06be33.svg"},function(e,t,n){e.exports=n.p+"static/media/icon_plus.fb477983.svg"},function(e,t,n){e.exports=n.p+"static/media/icon_trash_alt.e80824a2.svg"},,,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(5),s=n.n(c),i=n(11),r=n(10),l=n(3),u=n(1),m=n(2),d=(n(17),n(6)),g=n.n(d),b=n(7),v=n.n(b),h="none",N="move",f="resize",p=function(e){var t=e.className,n=e.note,c=n.id,s=n.text,i=n.x,r=n.y,l=n.width,u=n.height,d=e.changeNote,b=e.deleteNote,p=e.field,O=e.setNoteMoving,j=Object(a.useState)({x:0,y:0}),x=Object(m.a)(j,2),E=x[0],w=x[1],y=Object(a.useState)(h),C=Object(m.a)(y,2),k=C[0],I=C[1],S=Object(a.useRef)(),_=Object(a.useCallback)((function(e){var t=p.current.getBoundingClientRect(),n=t.x,a=t.y,o=t.width,s=t.height;k===N&&d(c,{x:(e.pageX-n)/o-E.x,y:(e.pageY-a)/s-E.y}),k===f&&d(c,{width:(e.pageX-n)/o-E.x,height:(e.pageY-a)/s-E.y})}),[E,p,c,d,k]),M=Object(a.useCallback)((function(e){var t=p.current.getBoundingClientRect(),n=t.x,a=t.y,o=t.width,s=t.height;I(h),O(!1),(e.pageX-n)/o<=.1&&(e.pageY-a)/s>=.9&&b(c)}),[I,O,c,p,b]);Object(a.useEffect)((function(){if(k!==h)return document.addEventListener("mousemove",_),document.addEventListener("mouseup",M),document.addEventListener("mouseleave",M),function(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",M),document.removeEventListener("mouseleave",M)}}),[k,_,M]);var R=Object(a.useCallback)((function(e){var t=p.current.getBoundingClientRect(),n=t.x,a=t.y,o=t.width,c=t.height;w({x:(e.pageX-n)/o-i,y:(e.pageY-a)/c-r}),I(N),O(!0)}),[p,w,I,i,r,O]),z=Object(a.useCallback)((function(e){var t=p.current.getBoundingClientRect(),n=t.x,a=t.y,o=t.width,c=t.height;w({x:(e.pageX-n)/o-l,y:(e.pageY-a)/c-u}),I(f)}),[p,w,I,l,u]),F=Object(a.useCallback)((function(e){var t=e.currentTarget.value;d(c,{text:t})}),[d,c]);return o.a.createElement("div",{className:"Note Note_color_".concat(c%5," Note_action_").concat(k," ").concat(t||""),style:{"--x":i,"--y":r,"--width":l,"--height":u,zIndex:Math.round(1e4*r)},ref:S},o.a.createElement("textarea",{className:"Note-Text",onChange:F,value:s,placeholder:"Empty note"}),o.a.createElement("div",{className:"Note-Move",onMouseDown:R},o.a.createElement("img",{src:g.a,className:"Note-MoveImg",alt:"move"})),o.a.createElement("div",{className:"Note-Resize",onMouseDown:z},o.a.createElement("img",{src:v.a,className:"Note-ResizeImg",alt:"resize"})))},O=(n(18),n(8)),j=n.n(O),x=n(9),E=n.n(x),w=function(e){var t=e.className,n=e.notes,c=e.changeNote,s=e.createNote,i=e.deleteNote,r=Object(a.useRef)(),l=Object(a.useState)(!1),u=Object(m.a)(l,2),d=u[0],g=u[1];return o.a.createElement("div",{className:"Field ".concat(d?"Field_noteMoving":""," ").concat(t||""),ref:r},n.map((function(e){return o.a.createElement(p,{key:String(e.id),note:e,changeNote:c,field:r,setNoteMoving:g,deleteNote:i})})),o.a.createElement("button",{className:"Field-NewNote",onClick:s},o.a.createElement("img",{src:j.a,className:"Field-NewNoteImg",alt:"new"})),o.a.createElement("div",{className:"Field-DeleteNote",onClick:s},o.a.createElement("img",{src:E.a,className:"Field-DeleteNoteImg",alt:"delete"})))},y=(n(19),{lastNoteId:0,notes:{0:{id:0,text:"Welcome to Sticky Notes \u2014 my test app on React\n\nFeatures:\n\n* Create new note with button in bottom right corner of the field\n\n* Move note with grip in top right corner of the note (appears on hover)\n\n* Resize note with grip in bottom right corner of the note (appears on hover)\n\n* Delete note by moving it to bottom left corner of the field\n\n* Colors and z-indexes are set automatically",x:.15,y:.15,width:.4,height:.4}}});var C=function(){var e=Object(a.useState)({lastNoteId:-1,notes:{}}),t=Object(m.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){var e=localStorage.getItem("store");c(e?JSON.parse(e):y),window.onstorage=function(e){"store"===e.key&&c(JSON.parse(e.newValue))}}),[c]),Object(a.useEffect)((function(){localStorage.setItem("store",JSON.stringify(n))}),[n]);var s=Object(a.useCallback)((function(e,t){c(Object(u.a)(Object(u.a)({},n),{},{notes:Object(u.a)(Object(u.a)({},n.notes),{},Object(l.a)({},e,Object.assign({},n.notes[e],t)))}))}),[n,c]),d=Object(a.useCallback)((function(){c({notes:Object(u.a)(Object(u.a)({},n.notes),{},Object(l.a)({},n.lastNoteId+1,{id:n.lastNoteId+1,text:"",x:.35,y:.35,width:.3,height:.3})),lastNoteId:n.lastNoteId+1})}),[n,c]),g=Object(a.useCallback)((function(e){var t=n.notes,a=(t[e],Object(i.a)(t,[e].map(r.a)));c(Object(u.a)(Object(u.a)({},n),{},{notes:a}))}),[n,c]);return o.a.createElement("div",{className:"App"},o.a.createElement(w,{notes:Object.values(n.notes),changeNote:s,createNote:d,deleteNote:g}))};n(20);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.29d81824.chunk.js.map
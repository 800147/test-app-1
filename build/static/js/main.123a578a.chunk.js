(this["webpackJsonptest-app-1"]=this["webpackJsonptest-app-1"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/arrow_move.1663e72a.svg"},function(e,t,n){e.exports=n.p+"static/media/arrow_expand_alt2.3e06be33.svg"},function(e,t,n){e.exports=n.p+"static/media/icon_plus.fb477983.svg"},function(e,t,n){e.exports=n.p+"static/media/icon_trash_alt.e80824a2.svg"},,,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(5),i=n.n(c),s=n(11),r=n(10),l=n(3),u=n(1),m=n(2),d=(n(17),n(6)),g=n.n(d),b=n(7),h=n.n(b),v="none",p="move",N="resize",f=function(e){var t=e.className,n=e.note,c=n.id,i=n.text,s=n.x,r=n.y,l=n.width,u=n.height,d=e.changeNote,b=e.deleteNote,f=e.field,j=e.setNoteMoving,O=Object(a.useState)({x:0,y:0}),x=Object(m.a)(O,2),E=x[0],w=x[1],y=Object(a.useState)(v),C=Object(m.a)(y,2),k=C[0],I=C[1],_=Object(a.useRef)(),M=Object(a.useCallback)((function(e){var t=f.current.getBoundingClientRect(),n=t.x,a=t.y,o=t.width,i=t.height;k===p&&d(c,{x:(e.pageX-n)/o-E.x,y:(e.pageY-a)/i-E.y}),k===N&&d(c,{width:(e.pageX-n)/o-E.x,height:(e.pageY-a)/i-E.y})}),[E,f,c,d,k]),R=Object(a.useCallback)((function(e){var t=f.current.getBoundingClientRect(),n=t.x,a=t.y,o=t.width,i=t.height;I(v),j(!1),(e.pageX-n)/o<=.1&&(e.pageY-a)/i>=.9&&b(c)}),[I,j,c,f,b]);Object(a.useEffect)((function(){if(k!==v)return document.addEventListener("mousemove",M),document.addEventListener("mouseup",R),document.addEventListener("mouseleave",R),function(){document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",R),document.removeEventListener("mouseleave",R)}}),[k,M,R]);var z=Object(a.useCallback)((function(e){var t=f.current.getBoundingClientRect(),n=t.x,a=t.y,o=t.width,c=t.height;w({x:(e.pageX-n)/o-s,y:(e.pageY-a)/c-r}),I(p),j(!0)}),[f,w,I,s,r,j]),F=Object(a.useCallback)((function(e){var t=f.current.getBoundingClientRect(),n=t.x,a=t.y,o=t.width,c=t.height;w({x:(e.pageX-n)/o-l,y:(e.pageY-a)/c-u}),I(N)}),[f,w,I,l,u]),S=Object(a.useCallback)((function(e){var t=e.currentTarget.value;d(c,{text:t})}),[d,c]);return o.a.createElement("div",{className:"Note Note_color_".concat(c%5," Note_action_").concat(k," ").concat(t||""),style:{"--x":s,"--y":r,"--width":l,"--height":u,zIndex:Math.round(1e4*r)},ref:_},o.a.createElement("textarea",{className:"Note-Text",onChange:S,value:i,placeholder:"Empty note"}),o.a.createElement("div",{className:"Note-Move",onMouseDown:z},o.a.createElement("img",{src:g.a,className:"Note-MoveImg",alt:"move"})),o.a.createElement("div",{className:"Note-Resize",onMouseDown:F},o.a.createElement("img",{src:h.a,className:"Note-ResizeImg",alt:"resize"})))},j=(n(18),n(8)),O=n.n(j),x=n(9),E=n.n(x),w=function(e){var t=e.className,n=e.notes,c=e.changeNote,i=e.createNote,s=e.deleteNote,r=Object(a.useRef)(),l=Object(a.useState)(!1),u=Object(m.a)(l,2),d=u[0],g=u[1];return o.a.createElement("div",{className:"Field ".concat(d?"Field_noteMoving":""," ").concat(t||""),ref:r},n.map((function(e){return o.a.createElement(f,{key:String(e.id),note:e,changeNote:c,field:r,setNoteMoving:g,deleteNote:s})})),o.a.createElement("button",{className:"Field-NewNote",onClick:i},o.a.createElement("img",{src:O.a,className:"Field-NewNoteImg",alt:"new"})),o.a.createElement("div",{className:"Field-DeleteNote",onClick:i},o.a.createElement("img",{src:E.a,className:"Field-DeleteNoteImg",alt:"delete"})))},y=(n(19),{lastNoteId:0,notes:{0:{id:0,text:"Welcome to Sticky Notes \u2014 my test app on React\n\nFeatures:\n\n* Create new note with button in bottom right corner of the field\n\n* Move note with grip in top right corner of the note (appears on hover)\n\n* Resize note with grip in bottom right corner of the note (appears on hover)\n\n* Delete note by moving it to bottom left corner of the field\n\n* Colors and z-indexes are set automatically",x:.15,y:.15,width:.4,height:.4}}});var C=function(){var e=Object(a.useState)(y),t=Object(m.a)(e,2),n=t[0],c=t[1],i=Object(a.useCallback)((function(e,t){c(Object(u.a)(Object(u.a)({},n),{},{notes:Object(u.a)(Object(u.a)({},n.notes),{},Object(l.a)({},e,Object.assign({},n.notes[e],t)))}))}),[n,c]),d=Object(a.useCallback)((function(){c({notes:Object(u.a)(Object(u.a)({},n.notes),{},Object(l.a)({},n.lastNoteId+1,{id:n.lastNoteId+1,text:"",x:.35,y:.35,width:.3,height:.3})),lastNoteId:n.lastNoteId+1})}),[n,c]),g=Object(a.useCallback)((function(e){var t=n.notes,a=(t[e],Object(s.a)(t,[e].map(r.a)));c(Object(u.a)(Object(u.a)({},n),{},{notes:a}))}),[n,c]);return o.a.createElement("div",{className:"App"},o.a.createElement(w,{notes:Object.values(n.notes),changeNote:i,createNote:d,deleteNote:g}))};n(20);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.123a578a.chunk.js.map
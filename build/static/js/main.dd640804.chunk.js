(this["webpackJsonptest-app-1"]=this["webpackJsonptest-app-1"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/arrow_move.1663e72a.svg"},function(e,t,a){e.exports=a.p+"static/media/arrow_expand_alt2.3e06be33.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_plus.fb477983.svg"},function(e,t,a){e.exports=a.p+"static/media/icon_trash_alt.e80824a2.svg"},,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(5),s=a.n(c),i=a(11),r=a(10),l=a(3),u=a(1),m=a(2),d=(a(17),a(6)),g=a.n(d),b=a(7),N=a.n(b),h="none",v="move",f="resize",p=function(e){var t=e.className,a=e.note,c=a.id,s=a.text,i=a.x,r=a.y,l=a.width,u=a.height,d=e.changeNote,b=e.deleteNote,p=e.field,O=e.setNoteAction,j=Object(n.useState)({x:0,y:0}),x=Object(m.a)(j,2),E=x[0],w=x[1],y=Object(n.useState)(h),C=Object(m.a)(y,2),k=C[0],I=C[1],S=Object(n.useRef)(),_=Object(n.useCallback)((function(e){var t=p.current.getBoundingClientRect(),a=t.x,n=t.y,o=t.width,s=t.height;k===v&&d(c,{x:(e.pageX-a)/o-E.x,y:(e.pageY-n)/s-E.y}),k===f&&d(c,{width:(e.pageX-a)/o-E.x,height:(e.pageY-n)/s-E.y})}),[E,p,c,d,k]),R=Object(n.useCallback)((function(e){var t=p.current.getBoundingClientRect(),a=t.x,n=t.y,o=t.width,s=t.height;I(h),O(h),(e.pageX-a)/o<=.1&&(e.pageY-n)/s>=.9&&b(c)}),[I,O,c,p,b]);Object(n.useEffect)((function(){if(k!==h)return document.addEventListener("mousemove",_),document.addEventListener("mouseup",R),document.addEventListener("mouseleave",R),function(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",R),document.removeEventListener("mouseleave",R)}}),[k,_,R]);var z=Object(n.useCallback)((function(e){var t=p.current.getBoundingClientRect(),a=t.x,n=t.y,o=t.width,c=t.height;w({x:(e.pageX-a)/o-i,y:(e.pageY-n)/c-r}),I(v),O(v)}),[p,w,I,i,r,O]),F=Object(n.useCallback)((function(e){var t=p.current.getBoundingClientRect(),a=t.x,n=t.y,o=t.width,c=t.height;w({x:(e.pageX-a)/o-l,y:(e.pageY-n)/c-u}),I(f),O(f)}),[p,w,I,l,u,O]),M=Object(n.useCallback)((function(e){var t=e.currentTarget.value;d(c,{text:t})}),[d,c]);return o.a.createElement("div",{className:"Note Note_color_".concat(c%5," Note_action_").concat(k," ").concat(t||""),style:{"--x":i,"--y":r,"--width":l,"--height":u,zIndex:Math.round(1e4*r)},ref:S},o.a.createElement("textarea",{className:"Note-Text",onChange:M,value:s,placeholder:"Empty note"}),o.a.createElement("div",{className:"Note-Move",onMouseDown:z},o.a.createElement("img",{src:g.a,className:"Note-MoveImg",alt:"move"})),o.a.createElement("div",{className:"Note-Resize",onMouseDown:F},o.a.createElement("img",{src:N.a,className:"Note-ResizeImg",alt:"resize"})))},O=(a(18),a(8)),j=a.n(O),x=a(9),E=a.n(x),w=function(e){var t=e.className,a=e.notes,c=e.changeNote,s=e.createNote,i=e.deleteNote,r=Object(n.useRef)(),l=Object(n.useState)(h),u=Object(m.a)(l,2),d=u[0],g=u[1];return o.a.createElement("div",{className:"Field Field_action_".concat(d," ").concat(t||""),ref:r},a.map((function(e){return o.a.createElement(p,{key:String(e.id),note:e,changeNote:c,field:r,setNoteAction:g,deleteNote:i})})),o.a.createElement("button",{className:"Field-NewNote",onClick:s},o.a.createElement("img",{src:j.a,className:"Field-NewNoteImg",alt:"new"})),o.a.createElement("div",{className:"Field-DeleteNote",onClick:s},o.a.createElement("img",{src:E.a,className:"Field-DeleteNoteImg",alt:"delete"})))},y=(a(19),{lastNoteId:0,notes:{0:{id:0,text:"Welcome to Sticky Notes \u2014 my test app on React\n\nFeatures:\n\n* Create new note with button in bottom right corner of the field\n\n* Move note with grip in top right corner of the note (appears on hover)\n\n* Resize note with grip in bottom right corner of the note (appears on hover)\n\n* Delete note by moving it to bottom left corner of the field\n\n* Colors and z-indexes are set automatically\n\n* Notes are saved in browser using local storage",x:.15,y:.15,width:.4,height:.4}}});var C=function(){var e=Object(n.useState)({lastNoteId:-1,notes:{}}),t=Object(m.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){var e=localStorage.getItem("store");c(e?JSON.parse(e):y),window.onstorage=function(e){"store"===e.key&&c(JSON.parse(e.newValue))}}),[c]),Object(n.useEffect)((function(){localStorage.setItem("store",JSON.stringify(a))}),[a]);var s=Object(n.useCallback)((function(e,t){c(Object(u.a)(Object(u.a)({},a),{},{notes:Object(u.a)(Object(u.a)({},a.notes),{},Object(l.a)({},e,Object.assign({},a.notes[e],t)))}))}),[a,c]),d=Object(n.useCallback)((function(){c({notes:Object(u.a)(Object(u.a)({},a.notes),{},Object(l.a)({},a.lastNoteId+1,{id:a.lastNoteId+1,text:"",x:.35,y:.35,width:.3,height:.3})),lastNoteId:a.lastNoteId+1})}),[a,c]),g=Object(n.useCallback)((function(e){var t=a.notes,n=(t[e],Object(i.a)(t,[e].map(r.a)));c(Object(u.a)(Object(u.a)({},a),{},{notes:n}))}),[a,c]);return o.a.createElement("div",{className:"App"},o.a.createElement(w,{notes:Object.values(a.notes),changeNote:s,createNote:d,deleteNote:g}))};a(20);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.dd640804.chunk.js.map